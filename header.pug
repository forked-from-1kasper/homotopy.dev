mixin tex
    p!= tex(`${block}`)

mixin code
    code!= highlight(`${block}`)

mixin header(logo, title, subtitle)
    header.header
        .header__titles
            h1.header__title!= title
            h4.header__subtitle!= subtitle

doctype html
html
    head
        meta(charset='utf-8')
        meta(http-equiv='x-ua-compatible' content='ie=edge')
        meta(property='fb:app_id'      content='118554188236439')
        meta(name='viewport'        content='width=device-width, initial-scale=1')
        meta(name='author'          content='Maxim Sokhatsky')
        meta(name='twitter:site'    content='@5HT')
        meta(name='twitter:creator' content='@5HT')
        meta(property='og:type'        content='website')
        meta(property='og:image'       content='https://avatars.githubusercontent.com/u/17128096?s=400&u=66a63d4cdd9625b2b4b37d724cc00fe6401e5bd8&v=4')
        link(rel='stylesheet' href='https://homotopy.dev/main.css?v=1')
        if javascriptEnabled
            script(src='https://homotopy.dev/styles/mathjax.js?config=TeX-AMS_HTML')
            script.
                window.MathJax = { jax: ["input/TeX", "input/MathML", "input/AsciiMath", "output/CommonHTML", "output/NativeMML"],
                             TeX: { extensions: ["AMSmath.js", "AMSsymbols.js", "autoload-all.js"] },
                             extensions: ["tex2jax.js", "asciimath2jax.js", "mml2jax.js", "MathMenu.js", "MathZoom.js"],
                             "HTML-CSS": { imageFont: null },
                             AuthorInit: function() {
                                 MathJax.Hub.Register.StartupHook("TeX AMSmath Ready", function() {
                                     var TEX = MathJax.InputJax.TeX;
                                     TEX.Definitions.Add({
                                         macros: {
                                           llparenthesis: ['Macro', '\\mathopen{\u2987}'],
                                           rrparenthesis: ['Macro', '\\mathclose{\u2988}'],
                                           llbracket:     ['Macro', '\\mathopen{\u27E6}'],
                                           rrbracket:     ['Macro', '\\mathclose{\u27E7}'],
                                           incmap:        ['Macro', '\\mathclose{\u21AA}'],
                                           meet:          ['Macro', '\\mathopen{\u2227}'],
                                           map:           ['Macro', '\\mathopen{\u21A6}'],
                                           join:          ['Macro', '\\mathopen{\u2228}'],
                                         }
                                     });
                                 });
                             },
                             tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']],
                                        processEscapes: true }
                         };
        else
            meta(name='JavaScript' content='Disabled')

        style.
            svg a{fill:blue;stroke:blue}
            [data-mml-node="merror"]>g{fill:red;stroke:red}
            [data-mml-node="merror"]>rect[data-background]{fill:yellow;stroke:none}
            [data-frame],[data-line]{stroke-width:70px;fill:none}
            .mjx-dashed{stroke-dasharray:140}
            .mjx-dotted{stroke-linecap:round;stroke-dasharray:0,140}
            use[data-c]{stroke-width:3px}

    body.content
        block vars
        block content
